China and EU strengthen promise to Paris deal with US poised to step away