Court rules out Hunter Valley coalmine on climate change grounds