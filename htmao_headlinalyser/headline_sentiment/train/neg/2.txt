Labor agrees to support new gas projects after public brawl sparked by Joel Fitzgibbon